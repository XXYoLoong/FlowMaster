# 每日流水统计与管理系统 - 需求文档

## 1. 项目概述

### 1.1 项目名称
每日流水统计与管理系统

### 1.2 项目目标
实现每日流水数据的录入、存储、查询和多级报表统计功能，支持员工管理和权限控制。

### 1.3 用户角色
- **前台员工**：负责数据录入和查看当日数据
- **店长**：可查看所有数据，生成各类报表

---

## 2. 数据结构设计

### 2.1 数据字段说明

| 字段名称 | 类型 | 说明 | 示例 |
|---------|------|------|------|
| 日期 | 日期 | 记录服务发生的日期 | 2025-07-01 |
| 员工 | 文本 | 负责服务的员工姓名（支持多员工管理） | 张三 |
| 数量 | 数字 | 服务次数或商品销售数量 | 6 |
| 总金额 | 数字 | 当日该员工的总收入 | 560 |
| 金额明细（备注） | 文本 | 用备注形式记录支付方式及金额 | 微信80, 微信100, 支付宝100, 支付宝100, 微信80 |

### 2.2 示例数据

| 日期       | 员工 | 数量 | 总金额 | 金额明细（备注）                     |
|------------|------|------|--------|--------------------------------------|
| 2025-07-01 | 张三 | 6    | 560    | 微信80, 微信100, 支付宝100, 支付宝100, 微信80 |
| 2025-07-01 | 李四 | 2    | 300    | 微信150, 支付宝150                   |
| 2025-07-02 | 张三 | 3    | 270    | 微信130, 支付宝140                   |

### 2.3 重要说明
- **去掉"服务项目"列**，系统专注于日期、数量、金额明细三个核心项目
- 金额明细以备注形式记录，包含支付方式及金额信息

---

## 3. 功能需求

### 3.1 数据录入功能
- **功能描述**：前台员工可以录入每日的流水数据
- **录入字段**：日期、员工、数量、总金额、金额明细（备注）
- **数据验证**：确保数据完整性和格式正确性

### 3.2 报表生成功能

#### 3.2.1 每日小结
- **统计维度**：日期、员工
- **统计指标**：
  - 总金额（求和）
  - 数量（求和）
- **功能说明**：统计每日各员工的服务次数和总收入，可按支付方式细分（从金额明细中提取数据）

#### 3.2.2 每周小结
- **统计维度**：员工、周次（如第1周、第2周）
- **统计指标**：
  - 总金额（求和）
  - 数量（求和）
- **功能说明**：统计每周各员工的业绩，对比员工间差异

#### 3.2.3 每月小结
- **统计维度**：员工、月份（如7月、8月）
- **统计指标**：
  - 总金额（求和）
  - 数量（求和）
- **功能说明**：统计每月各员工的业绩，用于月度绩效考核

#### 3.2.4 年报
- **统计维度**：员工、年份（如2025年）
- **统计指标**：
  - 总金额（求和）
  - 数量（求和）
- **功能说明**：统计全年各员工的业绩，用于年终奖计算

### 3.3 权限管理功能

#### 3.3.1 前台员工权限
- 录入每日数据（日期、员工、数量、总金额、金额明细）
- 查看当日数据
- 查看本周数据（通过筛选或数据透视表）

#### 3.3.2 店长权限
- 查看所有数据
- 生成每日、每周、每月、年报报表
- 监控员工绩效
- 导出报表用于管理

---

## 4. 技术方案建议

### 4.1 Excel方案（低成本方案）
- 使用Excel表格录入数据，每天更新
- 利用数据透视表自动生成报表，无需编程
- 适合小型店铺，操作简单

### 4.2 Web应用方案（高效率方案）
- **后端技术**：Python Flask/Django
- **前端技术**：HTML/CSS/JavaScript
- **数据库**：SQLite（适用于小型应用）或MySQL（适用于更大规模应用）
- **功能实现**：
  - 前台登录后只能录入和查看当日数据
  - 店长登录后可查看所有报表
  - 数据自动按周、月、年汇总

---

## 5. 核心逻辑

- 通过结构化数据录入，用Excel或代码自动生成多级报表
- 去掉"服务项目"后，更聚焦于数量和金额，简化操作
- 如需增加"服务项目"，可随时扩展列

---

## 6. 扩展性说明

- 系统设计应具备良好的扩展性
- 如需增加"服务项目"等字段，应支持随时扩展列
- 数据结构设计应考虑未来可能的业务变化

---

## 7. 交付要求

请开发者根据以上需求提供：
1. 技术方案建议
2. 开发时间估算
3. 项目报价
4. 详细的功能实现方案

---

## 附录：参考示例

### Excel数据透视表配置示例

#### 每日小结透视表
- **行**：日期、员工
- **值**：总金额（求和）、数量（求和）

#### 每周小结透视表
- **行**：员工
- **列**：周次（如第1周、第2周）
- **值**：总金额（求和）、数量（求和）

#### 每月小结透视表
- **行**：员工
- **列**：月份（如7月、8月）
- **值**：总金额（求和）、数量（求和）

#### 年报透视表
- **行**：员工
- **列**：年份（如2025年）
- **值**：总金额（求和）、数量（求和）

